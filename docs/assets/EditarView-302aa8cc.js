import{u as U,A as T,B as S,f as L,s as N,r as l,i as P,m as g,g as $,a as d,o as h,c as w,h as R,e as n,k as A,F as E,b as e,d as r,C as M,w as z}from"./index-c3973217.js";const G={key:0,class:"text-red-500 ml-5 mt-5"},j=["onSubmit"],q={class:"grid"},D=e("div",{class:"col-6"},[e("label",{for:"nombre",class:"mr-5"},"Curso")],-1),H={class:"col-6"},J=e("div",{class:"col-6"},[e("label",{class:"mr-5"},"Seleccione Frontend/Backend")],-1),K={class:"col-6"},O=e("div",{class:"col-6"},[e("label",{for:"descripcion"},"Ingrese una descripcion:")],-1),Q={class:"col-6"},W=e("div",{class:"col-6"},[e("label",{for:"nombre",class:"mr-5 w-6"},"Foto")],-1),X={class:"col-6"},Y=e("div",{class:"col-6"},[e("label",{for:"nombre",class:"mr-5"},"Precio")],-1),Z={class:"col-6"},ee={class:"col-6"},oe={class:"col-6"},le={__name:"EditarView",setup(se){const i=U(),{params:u,path:ae}=T(),{cargarUser:V}=S(),v=L(),{existeUsuario:x}=v;N(v);const c=l(!0);l(!0);const p=l(!1);l(!1);const m=l(!1);let o=l({});l(""),l(""),l(""),P(async()=>{V(x()),u.id;try{const{data:a}=await g.get(`/productos/${u.id}`);a?(a.categoria=="backend"&&(c.value=!1),o.value={id:a.id,nombre:a.nombre,categoria:a.categoria,descripcion:a.descripcion,foto:a.foto,precio:a.precio}):i.push({path:"/tienda"})}catch{i.push({path:"/tienda"})}});let k=async()=>{try{p.value=!0,o.value.categoria=c.value?"frontend":"backend";let a=await g.put(`/productos/${u.id}`,o.value);p.value=!1,i.push({path:"/dashboard/default"})}catch(a){throw a}},C=()=>{i.push({path:"/dashboard/default"})};const y=$(()=>o.value.nombre.trim()!==""&&o.value.descripcion.trim()!==""&&o.value.foto.trim()!==""&&o.value.precio!==0),_=()=>{y.value?(m.value=!1,k()):m.value=!0};return(a,s)=>{const f=d("InputText"),B=d("ToggleButton"),F=d("Textarea"),b=d("Button"),I=d("Panel");return h(),w(E,null,[m.value?(h(),w("h1",G,"Por favor complete todos los campos")):R("",!0),n(I,{header:"Crear un Nuevo curso",class:"w-6 m-5"},{default:A(()=>[e("form",{onSubmit:z(_,["prevent"])},[e("div",q,[D,e("div",H,[n(f,{type:"text",modelValue:r(o).nombre,"onUpdate:modelValue":s[0]||(s[0]=t=>r(o).nombre=t),placeholder:"Ingrese el nombre del curso",class:"w-10"},null,8,["modelValue"])]),J,e("div",K,[n(B,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=t=>c.value=t),inputClass:"success",onLabel:"Frontend",offLabel:"Backend",onIcon:"pi pi-arrow-up",offIcon:"pi pi-arrow-down",class:M(["w-full sm:w-15rem mt-1",c.value?"bg-green-500 border-green-500 text-white":"bg-red-500 border-red-500 text-white"]),"aria-label":"do you confirm"},null,8,["modelValue","class"])]),O,e("div",Q,[n(F,{modelValue:r(o).descripcion,"onUpdate:modelValue":s[2]||(s[2]=t=>r(o).descripcion=t),rows:"3",cols:"46"},null,8,["modelValue"])]),W,e("div",X,[n(f,{type:"text",modelValue:r(o).foto,"onUpdate:modelValue":s[3]||(s[3]=t=>r(o).foto=t),placeholder:"Ingrese la url de la foto del curso",class:"w-10"},null,8,["modelValue"])]),Y,e("div",Z,[n(f,{type:"text",modelValue:r(o).precio,"onUpdate:modelValue":s[4]||(s[4]=t=>r(o).precio=t),placeholder:"Ingrese la url de la foto del curso",class:"w-10"},null,8,["modelValue"])]),e("div",ee,[n(b,{label:"Cancelar",class:"w-full p-button-secondary",icon:"pi pi-fast-backward",onClick:s[5]||(s[5]=t=>r(C)())})]),e("div",oe,[n(b,{label:"Guardar",class:"w-full",icon:"pi pi-check",loading:p.value,onClick:s[6]||(s[6]=t=>_())},null,8,["loading"])])])],40,j)]),_:1})],64)}}};export{le as default};
