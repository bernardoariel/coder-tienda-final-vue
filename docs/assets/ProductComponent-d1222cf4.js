import{r as d,u as $,A as B,B as S,f as N,s as R,n as U,i as V,m as p,a as A,o as i,c as f,b as t,t as l,d as e,j as h,h as _,F as x,z as E,e as F}from"./index-c3973217.js";const L={class:"flex justify-content-center w-full"},M={class:"flex flex-column surface-card p-4 shadow-2 border-round w-4 m-4"},z={class:"flex justify-content-center text-3xl font-medium text-900 mb-3"},D={class:"flex justify-content-center font-medium text-500 mb-3"},P=t("hr",null,null,-1),T={class:"flex justify-content-center font-medium text-500 mb-3"},q={class:"flex justify-content-center"},G=["src"],H={class:"flex justify-content-center mt-3"},I={class:"flex"},J={class:"flex justify-content-center"},K=["src"],O={class:"text-3xl font-medium text-900 mb-3 flex justify-content-center"},Q={class:"font-medium text-500 mb-3 flex justify-content-center"},Z={__name:"ProductComponent",setup(W){let o=d([]),m=d([]);d({});const a=$(),{params:v,path:g}=B(),{cargarUser:b}=S(),u=N(),{existeUsuario:y}=u;R(u);const C=U();V(async()=>{const s=v.id;try{const{data:n}=await p.get(`/productos/${s}`);o.value=n,n||a.push({path:"/tienda"})}catch(n){console.log("error::: ",n),a.push({path:"/tienda"})}b(y());const{data:c}=await p.get("/productos");m.value=c.slice().sort(()=>Math.random()-.5).slice(0,4)});const j=s=>{g.includes("otro")?a.push({path:`/producto/${s}`}):a.push({path:`/producto/otro/${s}`})},k=s=>{a.push({path:`/editar/${s}`})},w=s=>{C.agregarCursoCarrito(s)};return(s,c)=>{const n=A("Button");return i(),f(x,null,[t("div",L,[t("div",M,[t("div",z,l(e(o).nombre),1),t("div",D,l(e(o).descripcion),1),P,t("div",T,"$ "+l(e(o).precio),1),t("div",q,[t("img",{src:e(o).foto,heigth:"250",width:"250"},null,8,G)]),t("div",H,[e(u).tipo=="cliente"?(i(),h(n,{key:0,label:"Seleccionar",class:"flex justify-content-center p-button-success",onClick:c[0]||(c[0]=r=>w(e(o)))})):_("",!0),e(u).tipo=="admin"?(i(),h(n,{key:1,label:"Editar",class:"p-button-danger",onClick:c[1]||(c[1]=r=>k(e(o).id))})):_("",!0)])])]),t("div",I,[(i(!0),f(x,null,E(e(m),r=>(i(),f("div",{class:"flex flex-column surface-card p-4 shadow-2 border-round w-3 m-4",key:e(o).id},[t("div",J,[t("img",{src:r.foto,heigth:"150",width:"150"},null,8,K)]),t("div",O,l(r.nombre),1),t("div",Q,l(r.descripcion),1),F(n,{label:"Chusmear el curso",onClick:X=>j(r.id),class:"p-3 w-full p-button-outlined"},null,8,["onClick"])]))),128))])],64)}}};export{Z as _};
