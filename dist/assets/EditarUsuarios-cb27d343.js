import{r as c,A,u as B,i as F,m as V,g as T,a as v,o as h,c as g,d as l,h as E,e as t,k as R,F as D,b as e,v as m,w as M}from"./index-c3973217.js";const P={key:0},G={class:"grid"},H=e("div",{class:"col-6"},[e("label",{for:"Nombre"},"Ingrese el Nombre")],-1),L={class:"col-6"},j=e("div",{class:"col-6"},[e("label",{for:"Nombre"},"Ingrese el email")],-1),q={class:"col-6"},z=e("div",{class:"col-6"},[e("label",{for:"Nombre"},"Ingrese el password")],-1),J={class:"col-6"},K=e("div",{class:"col-6"},[e("label",{for:"Nombre"},"Ingrese la imagen")],-1),O={class:"col-6"},Q=e("div",{class:"col-6"},[e("label",{for:"Nombre"},"Tipo de Usuario")],-1),S={class:"col-6"},W={class:"col-6"},X={class:"col-6"},ee={__name:"EditarUsuarios",setup(Y){let n=c(),k=c([{name:"Admin",code:"admin"},{name:"Usuario",code:"usuario"}]),u=c(""),i=c(""),d=c(""),r=c(""),_=c(!1);const{params:b,path:Z}=A(),f=B();F(async()=>{console.log("${param.id}::: ",b.id);const{data:s}=await V.get(`/usuarios/${b.id}`);u.value=s.nombre,i.value=s.email,d.value=s.password,r.value=s.image,n.value=s.tipousuario?"Admin":"Usuario"});const x=T(()=>u.value.trim()!==""&&i.value.trim()!==""&&r.value.trim()!==""&&d.value.trim()!==""),y=()=>{x.value?(_.value=!1,N()):_.value=!0},N=async()=>{let s={nombre:u.value,email:i.value,password:d.value,image:r.value,tipousuario:n.value.name=="Admin"};await V.put(`/usuarios/${b.id}`,s),f.push({path:"/dashboard/default"})};let U=()=>{f.push({path:"/dashboard/default"})};return(s,a)=>{const p=v("InputText"),C=v("Dropdown"),w=v("Button"),I=v("Panel");return h(),g(D,null,[l(_)?(h(),g("h1",P,"Hay un error en los datos ingresados")):E("",!0),t(I,{header:"Editar usuario",class:"w-6 m-5"},{default:R(()=>[e("div",G,[H,e("div",L,[t(p,{type:"text",class:"w-10",modelValue:l(u),"onUpdate:modelValue":a[0]||(a[0]=o=>m(u)?u.value=o:u=o)},null,8,["modelValue"])]),j,e("div",q,[t(p,{type:"text",class:"w-10",modelValue:l(i),"onUpdate:modelValue":a[1]||(a[1]=o=>m(i)?i.value=o:i=o)},null,8,["modelValue"])]),z,e("div",J,[t(p,{type:"text",class:"w-10",modelValue:l(d),"onUpdate:modelValue":a[2]||(a[2]=o=>m(d)?d.value=o:d=o)},null,8,["modelValue"])]),K,e("div",O,[t(p,{class:"w-10",type:"text",modelValue:l(r),"onUpdate:modelValue":a[3]||(a[3]=o=>m(r)?r.value=o:r=o)},null,8,["modelValue"])]),Q,e("div",S,[t(C,{modelValue:l(n),"onUpdate:modelValue":a[4]||(a[4]=o=>m(n)?n.value=o:n=o),class:"w-10",options:l(k),optionLabel:"name",placeholder:l(n)},null,8,["modelValue","options","placeholder"])]),e("div",W,[t(w,{label:"Cancelar",class:"w-full p-button-secondary",icon:"pi pi-fast-backward",onClick:a[5]||(a[5]=o=>l(U)())})]),e("div",X,[t(w,{label:"Guardar",icon:"pi pi-user",class:"w-full",onClick:M(y,["prevent"])},null,8,["onClick"])])])]),_:1})],64)}}};export{ee as default};
