import{u as F,A as I,B as U,f as T,s as S,r,i as N,g as L,a as n,o as b,c as g,h as P,e as a,k as R,F as A,b as e,d as t,C as M,w as $,m as z}from"./index-c3973217.js";const E={key:0,class:"text-red-500 ml-5 mt-5"},G=["onSubmit"],j={class:"grid"},q=e("div",{class:"col-6"},[e("label",{for:"nombre",class:"mr-5"},"Curso")],-1),D={class:"col-6"},H=e("div",{class:"col-6"},[e("label",{class:"mr-5"},"Seleccione Frontend/Backend")],-1),J={class:"col-6"},K=e("div",{class:"col-6"},[e("label",{for:"descripcion"},"Ingrese una descripcion:")],-1),O={class:"col-6"},Q=e("div",{class:"col-6"},[e("label",{for:"nombre",class:"mr-5 w-6"},"Foto")],-1),W={class:"col-6"},X=e("div",{class:"col-6"},[e("label",{for:"nombre",class:"mr-5"},"Precio")],-1),Y={class:"col-6"},Z={class:"col-6"},ee={class:"col-6"},le={__name:"NuevoCursoView",setup(oe){const p=F();I();const{cargarUser:w}=U(),f=T(),{existeUsuario:h}=f;S(f);const c=r(!0),d=r(!1);r(!1);const u=r(!1);let s=r({id:0,nombre:"",categoria:c?"frontend":"backend",descripcion:"",foto:"",precio:0});N(async()=>{w(h())});let V=async()=>{try{d.value=!0;let i=await z.post("/productos/",s.value);d.value=!1,p.push({path:"/dashboard/default"})}catch(i){throw i}};const x=L(()=>s.value.nombre.trim()!==""&&s.value.descripcion.trim()!==""&&s.value.foto.trim()!==""&&s.value.precio!==0),v=()=>{x.value?(u.value=!1,V()):u.value=!0};let C=()=>{p.push({path:"/dashboard/default"})};return(i,o)=>{const m=n("InputText"),k=n("ToggleButton"),B=n("Textarea"),_=n("Button"),y=n("Panel");return b(),g(A,null,[u.value?(b(),g("h1",E,"Por favor complete todos los campos")):P("",!0),a(y,{header:"Crear un Nuevo curso",class:"w-6 m-5"},{default:R(()=>[e("form",{onSubmit:$(v,["prevent"])},[e("div",j,[q,e("div",D,[a(m,{type:"text",modelValue:t(s).nombre,"onUpdate:modelValue":o[0]||(o[0]=l=>t(s).nombre=l),placeholder:"Ingrese el nombre del curso",class:"w-10"},null,8,["modelValue"])]),H,e("div",J,[a(k,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=l=>c.value=l),inputClass:"success",onLabel:"Frontend",offLabel:"Backend",onIcon:"pi pi-arrow-up",offIcon:"pi pi-arrow-down",class:M(["w-full sm:w-15rem mt-1",c.value?"bg-green-500 border-green-500 text-white":"bg-red-500 border-red-500 text-white"]),"aria-label":"do you confirm"},null,8,["modelValue","class"])]),K,e("div",O,[a(B,{modelValue:t(s).descripcion,"onUpdate:modelValue":o[2]||(o[2]=l=>t(s).descripcion=l),rows:"3",cols:"46"},null,8,["modelValue"])]),Q,e("div",W,[a(m,{type:"text",modelValue:t(s).foto,"onUpdate:modelValue":o[3]||(o[3]=l=>t(s).foto=l),placeholder:"Ingrese la url de la foto del curso",class:"w-10"},null,8,["modelValue"])]),X,e("div",Y,[a(m,{type:"text",modelValue:t(s).precio,"onUpdate:modelValue":o[4]||(o[4]=l=>t(s).precio=l),placeholder:"Ingrese la url de la foto del curso",class:"w-10"},null,8,["modelValue"])]),e("div",Z,[a(_,{label:"Cancelar",class:"w-full p-button-secondary",icon:"pi pi-fast-backward",onClick:o[5]||(o[5]=l=>t(C)())})]),e("div",ee,[a(_,{label:"Guardar",class:"w-full",icon:"pi pi-check",loading:d.value,onClick:o[6]||(o[6]=l=>v())},null,8,["loading"])])])],40,G)]),_:1})],64)}}};export{le as default};
